<script>
  function initviewStepNew() {
    const buttonViewStep = document.querySelectorAll(".btn-select-step-new");

    buttonViewStep.forEach((button) => {
      button.addEventListener("click", () => {
        openModalViewStep();

        const row = button.closest("tr");
        const codeStepOriginal = row.dataset.stepCodeOriginal;

        stepNewObject.forEach((step) => {
          if (step.originalCode == codeStepOriginal) {
            const mapping = {
              "title-step-view": step.title,
              "step-description-view": step.description,
              "type-step-view": step.type,
              "action-step-view": step.action,
              "question-step-view": step.question,
              "answer-type-step-view": step.answerType,
              "answer-1-step-view": step.answer1,
              "answer-2-step-view": step.answer2,
              "answer-3-step-view": step.answer3,
              "answer-4-step-view": step.answer4,
            };

            for (const key in mapping) {
              if (Object.hasOwnProperty.call(mapping, key)) {
                const element = mapping[key];
                const input = document.getElementById(key);
                input.setAttribute("disabled", true);
                if (element != undefined) {
                  input.value = element;
                } else {
                  input.value = "";
                }
              }
            }
          }
        });

        const modal = document.getElementById("view-step");
        const modalIntance = bootstrap.Modal.getInstance(modal);
        modalIntance.hide();
      });
    });
  }
</script>
